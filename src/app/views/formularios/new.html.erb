<h1>Novo Formulário</h1>

<%= form_with url: formularios_path, local: true, method: :post do |form| %>
  <% if flash[:alert] %>
    <div style="color: red; margin-bottom: 15px; padding: 10px; border: 1px solid red; background-color: #fee;">
      <%= flash[:alert] %>
    </div>
  <% end %>

  <div>
    <%= form.label :template_id, "Template", for: "Template" %>
    <%= form.collection_select :template_id, @templates, :id, :titulo, { prompt: "Selecione um template" }, { id: "Template" } %>
  </div>

  <div>
    <h3>Turmas</h3>
    <% @turmas.each do |turma| %>
      <div style="margin-bottom: 5px;">
        <%= check_box_tag "turma_ids[]", turma.id, false, id: "turma_#{turma.id}" %>
        <%= label_tag "turma_#{turma.id}", "#{turma.materia.nome} - #{turma.codigo}" %>
      </div>
    <% end %>
  </div>

  <div>
    <%= form.label :data_encerramento, "Data de encerramento" %>
    <%= form.date_field :data_encerramento %>
  </div>

  <div style="margin-top: 20px;">
    <%= form.submit "Gerar Formulário" %>
  </div>
<% end %>

<div style="margin-top: 10px;">
  <%= link_to "Voltar", formularios_path %>
</div>